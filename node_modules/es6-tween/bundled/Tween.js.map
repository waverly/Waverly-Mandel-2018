{"version":3,"file":"Tween.js","sources":["../src/shim.js","../src/core.js","../src/Easing.js","../src/constants.js","../src/Interpolation.js","../src/NodeCache.js","../src/selector.js","../src/Tween.js","../src/Interpolator.js"],"sourcesContent":["/* global global */\nexport let assign = (source, ...args) => {\n  for (let i = 0, len = args.length; i < len; i++) {\n    const arg = args[i]\n    for (const p in arg) {\n      source[p] = arg[p]\n    }\n  }\n  return source\n}\nexport let create =\n  Object.create || ((source = {}) => ({ ...source }))\nexport let root =\n  typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined' ? global : this\nexport let requestAnimationFrame =\n  root.requestAnimationFrame ||\n  ((fn) => root.setTimeout(fn, 16))\nexport let cancelAnimationFrame =\n  root.cancelAnimationFrame ||\n  ((id) => root.clearTimeout(id))\n","/* global process */\nimport { cancelAnimationFrame, requestAnimationFrame, root } from './shim'\n\n/**\n * Get browser/Node.js current time-stamp\n * @return Normalised current time-stamp in milliseconds\n * @memberof TWEEN\n * @example\n * TWEEN.now\n */\nconst now = (function () {\n  if (typeof process !== 'undefined' && process.hrtime !== undefined && (!process.versions || process.versions.electron === undefined)) {\n    return function () {\n      const time = process.hrtime()\n\n      // Convert [seconds, nanoseconds] to milliseconds.\n      return time[0] * 1000 + time[1] / 1000000\n    }\n    // In a browser, use window.performance.now if it is available.\n  } else if (\n    root.performance !== undefined &&\n    root.performance.now !== undefined\n  ) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    return root.performance.now.bind(root.performance)\n    // Use Date.now if it is available.\n  } else {\n    const offset =\n      root.performance &&\n      root.performance.timing &&\n      root.performance.timing.navigationStart\n        ? root.performance.timing.navigationStart\n        : Date.now()\n    return function () {\n      return Date.now() - offset\n    }\n  }\n})()\n\n/**\n * Lightweight, effecient and modular ES6 version of tween.js\n * @copyright 2017 @dalisoft and es6-tween contributors\n * @license MIT\n * @namespace TWEEN\n * @example\n * // ES6\n * const {add, remove, isRunning, autoPlay} = TWEEN\n */\nconst _tweens = []\nlet isStarted = false\nlet _autoPlay = false\nlet _tick\nconst _ticker = requestAnimationFrame\nconst _stopTicker = cancelAnimationFrame\nlet emptyFrame = 0\nlet powerModeThrottle = 120\n\n/**\n * Adds tween to list\n * @param {Tween} tween Tween instance\n * @memberof TWEEN\n * @example\n * let tween = new Tween({x:0})\n * tween.to({x:200}, 1000)\n * TWEEN.add(tween)\n */\nconst add = (tween) => {\n  let i = _tweens.indexOf(tween)\n\n  if (i > -1) {\n    _tweens.splice(i, 1)\n  }\n\n  _tweens.push(tween)\n\n  emptyFrame = 0\n\n  if (_autoPlay && !isStarted) {\n    _tick = _ticker(update)\n    isStarted = true\n  }\n}\n\n/**\n * Adds ticker like event\n * @param {Function} fn callback\n * @memberof TWEEN\n * @example\n * TWEEN.onTick(time => console.log(time))\n */\nconst onTick = (fn) => _tweens.push({ update: fn })\n\n/**\n * Sets after how much frames empty updating should stop\n * @param {number} [frameCount=120] count of frames that should stop after all tweens removed\n * @memberof TWEEN\n * @example\n * TWEEN.FrameThrottle(60)\n */\nconst FrameThrottle = (frameCount = 120) => {\n  powerModeThrottle = frameCount\n}\n\n/**\n * @returns {Array<Tween>} List of tweens in Array\n * @memberof TWEEN\n * TWEEN.getAll() // list of tweens\n */\nconst getAll = () => _tweens\n\n/**\n * Runs update loop automaticlly\n * @param {Boolean} state State of auto-run of update loop\n * @example TWEEN.autoPlay(true)\n * @memberof TWEEN\n */\nconst autoPlay = (state) => {\n  _autoPlay = state\n}\n\n/**\n * Removes all tweens from list\n * @example TWEEN.removeAll() // removes all tweens, stored in global tweens list\n * @memberof TWEEN\n */\nconst removeAll = () => {\n  _tweens.length = 0\n}\n\n/**\n * @param {Tween} tween Tween Instance to be matched\n * @return {Tween} Matched tween\n * @memberof TWEEN\n * @example\n * TWEEN.get(tween)\n */\nconst get = (tween) => {\n  for (let i = 0; i < _tweens.length; i++) {\n    if (tween === _tweens[i]) {\n      return _tweens[i]\n    }\n  }\n\n  return null\n}\n\n/**\n * @param {Tween} tween Tween Instance to be matched\n * @return {Boolean} Status of Exists tween or not\n * @memberof TWEEN\n * @example\n * TWEEN.has(tween)\n */\nconst has = (tween) => {\n  return get(tween) !== null\n}\n/**\n * Removes tween from list\n * @param {Tween} tween Tween instance\n * @memberof TWEEN\n * @example\n * TWEEN.remove(tween)\n */\nconst remove = (tween) => {\n  const i = _tweens.indexOf(tween)\n  if (i !== -1) {\n    _tweens.splice(i, 1)\n  }\n}\n\n/**\n * Updates global tweens by given time\n * @param {number=} time Timestamp\n * @param {Boolean=} preserve Prevents tween to be removed after finish\n * @memberof TWEEN\n * @example\n * TWEEN.update(500)\n */\n\nconst update = (time = now(), preserve) => {\n  if (_autoPlay && isStarted) {\n    _tick = _ticker(update)\n  }\n\n  if (!_tweens.length) {\n    emptyFrame++\n  }\n\n  if (emptyFrame > powerModeThrottle) {\n    _stopTicker(_tick)\n    isStarted = false\n    emptyFrame = 0\n    return false\n  }\n\n  let i = 0\n  while (i < _tweens.length) {\n    _tweens[i++].update(time, preserve)\n  }\n\n  return true\n}\n\n/**\n * The state of ticker running\n * @return {Boolean} Status of running updates on all tweens\n * @memberof TWEEN\n * @example TWEEN.isRunning()\n */\nconst isRunning = () => isStarted\n\n/**\n * The plugins store object\n * @namespace TWEEN.Plugins\n * @memberof TWEEN\n * @example\n * let num = Plugins.num = function (node, start, end) {\n * return t => start + (end - start) * t\n * }\n *\n * @static\n */\nconst Plugins = {}\n\nexport {\n  Plugins,\n  get,\n  has,\n  getAll,\n  removeAll,\n  remove,\n  add,\n  now,\n  update,\n  autoPlay,\n  onTick,\n  isRunning,\n  FrameThrottle\n}\n","/**\n * List of full easings\n * @namespace TWEEN.Easing\n * @example\n * import {Tween, Easing} from 'es6-tween'\n *\n * // then set via new Tween({x:0}).to({x:100}, 1000).easing(Easing.Quadratic.InOut).start()\n */\nconst Easing = {\n  Linear: {\n    None (k) {\n      return k\n    }\n  },\n\n  Quadratic: {\n    In (k) {\n      return k * k\n    },\n\n    Out (k) {\n      return k * (2 - k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k\n      }\n\n      return -0.5 * (--k * (k - 2) - 1)\n    }\n  },\n\n  Cubic: {\n    In (k) {\n      return k * k * k\n    },\n\n    Out (k) {\n      return --k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2)\n    }\n  },\n\n  Quartic: {\n    In (k) {\n      return k * k * k * k\n    },\n\n    Out (k) {\n      return 1 - --k * k * k * k\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k\n      }\n\n      return -0.5 * ((k -= 2) * k * k * k - 2)\n    }\n  },\n\n  Quintic: {\n    In (k) {\n      return k * k * k * k * k\n    },\n\n    Out (k) {\n      return --k * k * k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k * k\n      }\n\n      return 0.5 * ((k -= 2) * k * k * k * k + 2)\n    }\n  },\n\n  Sinusoidal: {\n    In (k) {\n      return 1 - Math.cos(k * Math.PI / 2)\n    },\n\n    Out (k) {\n      return Math.sin(k * Math.PI / 2)\n    },\n\n    InOut (k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k))\n    }\n  },\n\n  Exponential: {\n    In (k) {\n      return k === 0 ? 0 : Math.pow(1024, k - 1)\n    },\n\n    Out (k) {\n      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(1024, k - 1)\n      }\n\n      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n    }\n  },\n\n  Circular: {\n    In (k) {\n      return 1 - Math.sqrt(1 - k * k)\n    },\n\n    Out (k) {\n      return Math.sqrt(1 - --k * k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - k * k) - 1)\n      }\n\n      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n    }\n  },\n\n  Elastic: {\n    In (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n    },\n\n    Out (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      k *= 2\n\n      if (k < 1) {\n        return (\n          -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n        )\n      }\n\n      return (\n        0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1\n      )\n    }\n  },\n\n  Back: {\n    In (k) {\n      const s = 1.70158\n\n      return k * k * ((s + 1) * k - s)\n    },\n\n    Out (k) {\n      const s = 1.70158\n\n      return --k * k * ((s + 1) * k + s) + 1\n    },\n\n    InOut (k) {\n      const s = 1.70158 * 1.525\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s))\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n    }\n  },\n\n  Bounce: {\n    In (k) {\n      return 1 - Easing.Bounce.Out(1 - k)\n    },\n\n    Out (k) {\n      if (k < 1 / 2.75) {\n        return 7.5625 * k * k\n      } else if (k < 2 / 2.75) {\n        return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75\n      } else if (k < 2.5 / 2.75) {\n        return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375\n      } else {\n        return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375\n      }\n    },\n\n    InOut (k) {\n      if (k < 0.5) {\n        return Easing.Bounce.In(k * 2) * 0.5\n      }\n\n      return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5\n    }\n  },\n\n  Stepped: {\n    steps: steps => k => ((k * steps) | 0) / steps\n  }\n}\n\nexport default Easing\n","// Frame lag-fix constants\nexport const FRAME_MS = 50 / 3\nexport const TOO_LONG_FRAME_MS = 250\n\nexport const CHAINED_TWEENS = '_chainedTweens'\n\n// Event System\nexport const EVENT_CALLBACK = 'Callback'\nexport const EVENT_UPDATE = 'update'\nexport const EVENT_COMPLETE = 'complete'\nexport const EVENT_START = 'start'\nexport const EVENT_REPEAT = 'repeat'\nexport const EVENT_REVERSE = 'reverse'\nexport const EVENT_PAUSE = 'pause'\nexport const EVENT_PLAY = 'play'\nexport const EVENT_RESTART = 'restart'\nexport const EVENT_STOP = 'stop'\nexport const EVENT_SEEK = 'seek'\n\n// For String tweening stuffs\nexport const STRING_PROP = 'STRING_PROP'\n// Also RegExp's for string tweening\nexport const NUM_REGEX = /\\s+|([A-Za-z?().,{}:\"\"[\\]#%]+)|([-+]=+)?([-+]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]=?\\d+)?/g\nexport const HEXC_REGEX = /^#([0-9a-f]{6}|[0-9a-f]{3})$/i\n\n// Copies everything, duplicates, no shallow-copy\nexport function deepCopy (source) {\n  if ((source && source.nodeType) || source === undefined || typeof source !== 'object') {\n    return source\n  } else if (Array.isArray(source)) {\n    return [].concat(source)\n  } else if (typeof source === 'object') {\n    let target = {}\n    for (let prop in source) {\n      target[prop] = deepCopy(source[prop])\n    }\n    return target\n  }\n  return source\n}\n\nconst isNaNForST = v =>\n  isNaN(+v) || ((v[0] === '+' || v[0] === '-') && v[1] === '=') || v === '' || v === ' '\n\nconst hexColor = /^#([0-9a-f]{6}|[0-9a-f]{3})$/i\nconst hex2rgb = (all, hex) => {\n  let r\n  let g\n  let b\n  if (hex.length === 3) {\n    r = hex[0]\n    g = hex[1]\n    b = hex[2]\n    hex = r + r + g + g + b + b\n  }\n  let color = parseInt(hex, 16)\n  r = color >> 16 & 255\n  g = color >> 8 & 255\n  b = color & 255\n  return 'rgb(' + r + ',' + g + ',' + b + ')'\n}\n\nexport function decomposeString (fromValue) {\n  return typeof fromValue !== 'string' ? fromValue : fromValue.replace(hexColor, hex2rgb).match(NUM_REGEX).map(v => (isNaNForST(v) ? v : +v))\n}\n\n// Decompose value, now for only `string` that required\nexport function decompose (prop, obj, from, to, stringBuffer) {\n  const fromValue = from[prop]\n  const toValue = to[prop]\n\n  if (typeof fromValue === 'string' || typeof toValue === 'string') {\n    let fromValue1 = Array.isArray(fromValue) && fromValue[0] === STRING_PROP ? fromValue : decomposeString(fromValue)\n    let toValue1 = Array.isArray(toValue) && toValue[0] === STRING_PROP ? toValue : decomposeString(toValue)\n\n    let i = 1\n    while (i < fromValue1.length) {\n      if (fromValue1[i] === toValue1[i] && typeof fromValue1[i - 1] === 'string') {\n        fromValue1.splice(i - 1, 2, fromValue1[i - 1] + fromValue1[i])\n        toValue1.splice(i - 1, 2, toValue1[i - 1] + toValue1[i])\n      } else {\n        i++\n      }\n    }\n\n    i = 0\n\n    if (fromValue1[0] === STRING_PROP) {\n      fromValue1.shift()\n    }\n    if (toValue1[0] === STRING_PROP) {\n      toValue1.shift()\n    }\n\n    let fromValue2 = {\n      isString: true,\n      length: fromValue1.length\n    }\n    let toValue2 = {\n      isString: true,\n      length: toValue1.length\n    }\n\n    while (i < fromValue2.length) {\n      fromValue2[i] = fromValue1[i]\n      toValue2[i] = toValue1[i]\n      i++\n    }\n\n    from[prop] = fromValue2\n    to[prop] = toValue2\n    return true\n  } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n    if (Array.isArray(fromValue)) {\n      return fromValue.map((v, i) =>\n        decompose(i, obj[prop], fromValue, toValue)\n      )\n    } else {\n      for (let prop2 in toValue) {\n        decompose(prop2, obj[prop], fromValue, toValue)\n      }\n    }\n    return true\n  }\n  return false\n}\n\n// Recompose value\nexport const DECIMAL = Math.pow(10, 4)\nexport const RGB = 'rgb('\nexport const RGBA = 'rgba('\n\nexport const isRGBColor = (v, i, r = RGB) =>\n  typeof v[i] === 'number' &&\n  (v[i - 1] === r || v[i - 3] === r || v[i - 5] === r)\nexport function recompose (prop, obj, from, to, t, originalT, stringBuffer) {\n  const fromValue = stringBuffer ? from : from[prop]\n  const toValue = stringBuffer ? to : to[prop]\n  if (toValue === undefined) {\n    return fromValue\n  }\n  if (\n    fromValue === undefined ||\n    typeof fromValue === 'string' ||\n    fromValue === toValue\n  ) {\n    return toValue\n  } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n    if (!fromValue || !toValue) {\n      return obj[prop]\n    }\n    if (typeof fromValue === 'object' && !!fromValue && fromValue.isString) {\n      let STRING_BUFFER = ''\n      for (let i = 0, len = fromValue.length; i < len; i++) {\n        const isRelative = typeof fromValue[i] === 'number' && typeof toValue[i] === 'string' && toValue[i][1] === '='\n        let currentValue =\n          typeof fromValue[i] !== 'number'\n            ? fromValue[i]\n            : (((isRelative\n              ? fromValue[i] +\n                parseFloat(toValue[i][0] + toValue[i].substr(2)) * t\n              : fromValue[i] + (toValue[i] - fromValue[i]) * t) *\n              DECIMAL) |\n            0) /\n          DECIMAL\n        if (isRGBColor(fromValue, i) || isRGBColor(fromValue, i, RGBA)) {\n          currentValue |= 0\n        }\n        STRING_BUFFER += currentValue\n        if (isRelative && originalT === 1) {\n          fromValue[i] =\n            fromValue[i] +\n            parseFloat(toValue[i][0] + toValue[i].substr(2))\n        }\n      }\n      if (!stringBuffer) {\n        obj[prop] = STRING_BUFFER\n      }\n      return STRING_BUFFER\n    } else if (Array.isArray(fromValue) && fromValue[0] !== STRING_PROP) {\n      for (let i = 0, len = fromValue.length; i < len; i++) {\n        if (fromValue[i] === toValue[i]) {\n          continue\n        }\n        recompose(i, obj[prop], fromValue, toValue, t, originalT)\n      }\n    } else if (typeof fromValue === 'object' && !!fromValue && !fromValue.isString) {\n      for (let i in fromValue) {\n        if (fromValue[i] === toValue[i]) {\n          continue\n        }\n        recompose(i, obj[prop], fromValue, toValue, t, originalT)\n      }\n    }\n  } else if (typeof fromValue === 'number') {\n    const isRelative = typeof toValue === 'string'\n    obj[prop] =\n      (((isRelative\n        ? fromValue + parseFloat(toValue[0] + toValue.substr(2)) * t\n        : fromValue + (toValue - fromValue) * t) *\n          DECIMAL) |\n        0) /\n      DECIMAL\n    if (isRelative && originalT === 1) {\n      from[prop] = obj[prop]\n    }\n  } else if (typeof toValue === 'function') {\n    obj[prop] = toValue(t)\n  }\n  return obj[prop]\n}\n\n// Dot notation => Object structure converter\n// example\n// {'scale.x.y.z':'VALUE'} => {scale:{x:{y:{z:'VALUE'}}}}\n// Only works for 3-level parsing, after 3-level, parsing dot-notation not works as it's not affects\nconst propRegExp = /([.[])/g\nconst replaceBrace = /\\]/g\nconst propExtract = function (obj, property) {\n  const value = obj[property]\n  const props = property.replace(replaceBrace, '').split(propRegExp)\n  const propsLastIndex = props.length - 1\n  let lastArr = Array.isArray(obj)\n  let lastObj = typeof obj === 'object' && !lastArr\n  if (lastObj) {\n    obj[property] = null\n    delete obj[property]\n  } else if (lastArr) {\n    obj.splice(property, 1)\n  }\n  return props.reduce((nested, prop, index) => {\n    if (lastArr) {\n      if (prop !== '.' && prop !== '[') {\n        prop *= 1\n      }\n    }\n    let nextProp = props[index + 1]\n    let nextIsArray = nextProp === '['\n    if (prop === '.' || prop === '[') {\n      if (prop === '.') {\n        lastObj = true\n        lastArr = false\n      } else if (prop === '[') {\n        lastObj = false\n        lastArr = true\n      }\n      return nested\n    } else if (nested[prop] === undefined) {\n      if (lastArr || lastObj) {\n        nested[prop] =\n          index === propsLastIndex\n            ? value\n            : lastArr || nextIsArray ? [] : lastObj ? {} : null\n        lastObj = lastArr = false\n        return nested[prop]\n      }\n    } else if (nested[prop] !== undefined) {\n      if (index === propsLastIndex) {\n        nested[prop] = value\n      }\n      return nested[prop]\n    }\n    return nested\n  }, obj)\n}\n\nexport const SET_NESTED = function (nested) {\n  if (typeof nested === 'object' && !!nested) {\n    for (let prop in nested) {\n      if (prop.indexOf('.') !== -1 || prop.indexOf('[') !== -1) {\n        propExtract(nested, prop)\n      } else if (typeof nested[prop] === 'object' && !!nested[prop]) {\n        let nested2 = nested[prop]\n        for (let prop2 in nested2) {\n          if (prop2.indexOf('.') !== -1 || prop2.indexOf('[') !== -1) {\n            propExtract(nested2, prop2)\n          } else if (typeof nested2[prop2] === 'object' && !!nested2[prop2]) {\n            let nested3 = nested2[prop2]\n            for (let prop3 in nested3) {\n              if (prop3.indexOf('.') !== -1 || prop3.indexOf('[') !== -1) {\n                propExtract(nested3, prop3)\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  return nested\n}\n","import { isRGBColor, RGBA, STRING_PROP } from './constants'\n\n/**\n * List of full Interpolation\n * @namespace TWEEN.Interpolation\n * @example\n * import {Interpolation, Tween} from 'es6-tween'\n *\n * let bezier = Interpolation.Bezier\n * new Tween({x:0}).to({x:[0, 4, 8, 12, 15, 20, 30, 40, 20, 40, 10, 50]}, 1000).interpolation(bezier).start()\n * @memberof TWEEN\n */\nconst Interpolation = {\n  Linear (v, k, value) {\n    const m = v.length - 1\n    const f = m * k\n    const i = Math.floor(f)\n    const fn = Interpolation.Utils.Linear\n    if (k < 0) {\n      return fn(v[0], v[1], f, value)\n    }\n    if (k > 1) {\n      return fn(v[m], v[m - 1], m - f, value)\n    }\n    return fn(v[i], v[i + 1 > m ? m : i + 1], f - i, value)\n  },\n\n  Bezier (v, k, value) {\n    let b = Interpolation.Utils.Reset(value)\n    let n = v.length - 1\n    let pw = Math.pow\n    let fn = Interpolation.Utils.Bernstein\n\n    let isBArray = Array.isArray(b)\n\n    for (let i = 0; i <= n; i++) {\n      if (typeof b === 'number') {\n        b += pw(1 - k, n - i) * pw(k, i) * v[i] * fn(n, i)\n      } else if (isBArray) {\n        for (let p = 0, len = b.length; p < len; p++) {\n          if (typeof b[p] === 'number') {\n            b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i)\n          } else {\n            b[p] = v[i][p]\n          }\n        }\n      } else if (typeof b === 'object') {\n        for (let p in b) {\n          if (typeof b[p] === 'number') {\n            b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i)\n          } else {\n            b[p] = v[i][p]\n          }\n        }\n      } else if (typeof b === 'string') {\n        let STRING_BUFFER = ''\n        let idx = Math.round(n * k)\n        let vCurr = v[idx]\n        for (let ks = 1, len = vCurr.length; ks < len; ks++) {\n          STRING_BUFFER += vCurr[ks]\n        }\n        return STRING_BUFFER\n      }\n    }\n\n    return b\n  },\n\n  CatmullRom (v, k, value) {\n    const m = v.length - 1\n    let f = m * k\n    let i = Math.floor(f)\n    const fn = Interpolation.Utils.CatmullRom\n\n    if (v[0] === v[m]) {\n      if (k < 0) {\n        i = Math.floor((f = m * (1 + k)))\n      }\n\n      return fn(\n        v[(i - 1 + m) % m],\n        v[i],\n        v[(i + 1) % m],\n        v[(i + 2) % m],\n        f - i,\n        value\n      )\n    } else {\n      if (k < 0) {\n        return fn(v[1], v[1], v[0], v[0], -k, value)\n      }\n\n      if (k > 1) {\n        return fn(v[m - 1], v[m - 1], v[m], v[m], (k | 0) - k, value)\n      }\n\n      return fn(\n        v[i ? i - 1 : 0],\n        v[i],\n        v[m < i + 1 ? m : i + 1],\n        v[m < i + 2 ? m : i + 2],\n        f - i,\n        value\n      )\n    }\n  },\n\n  Utils: {\n    Linear (p0, p1, t, v) {\n      if (typeof p0 === 'string') {\n        return p1\n      } else if (typeof p0 === 'number') {\n        return typeof p0 === 'function' ? p0(t) : p0 + (p1 - p0) * t\n      } else if (typeof p0 === 'object') {\n        if (p0.length !== undefined) {\n          if (p0[0] === STRING_PROP) {\n            let STRING_BUFFER = ''\n            for (let i = 1, len = p0.length; i < len; i++) {\n              let currentValue =\n                typeof p0[i] === 'number' ? p0[i] + (p1[i] - p0[i]) * t : p1[i]\n              if (isRGBColor(p0, i) || isRGBColor(p0, i, RGBA)) {\n                currentValue |= 0\n              }\n              STRING_BUFFER += currentValue\n            }\n            return STRING_BUFFER\n          }\n          for (let p = 0, len = v.length; p < len; p++) {\n            v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p])\n          }\n        } else {\n          for (const p in v) {\n            v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p])\n          }\n        }\n        return v\n      }\n    },\n\n    Reset (value) {\n      if (Array.isArray(value)) {\n        for (let i = 0, len = value.length; i < len; i++) {\n          value[i] = Interpolation.Utils.Reset(value[i])\n        }\n        return value\n      } else if (typeof value === 'object') {\n        for (let i in value) {\n          value[i] = Interpolation.Utils.Reset(value[i])\n        }\n        return value\n      } else if (typeof value === 'number') {\n        return 0\n      }\n      return value\n    },\n\n    Bernstein (n, i) {\n      const fc = Interpolation.Utils.Factorial\n\n      return fc(n) / fc(i) / fc(n - i)\n    },\n\n    Factorial: (function () {\n      const a = [1]\n\n      return n => {\n        let s = 1\n\n        if (a[n]) {\n          return a[n]\n        }\n\n        for (let i = n; i > 1; i--) {\n          s *= i\n        }\n\n        a[n] = s\n        return s\n      }\n    })(),\n\n    CatmullRom (p0, p1, p2, p3, t, v) {\n      if (typeof p0 === 'string') {\n        return p1\n      } else if (typeof p0 === 'number') {\n        const v0 = (p2 - p0) * 0.5\n        const v1 = (p3 - p1) * 0.5\n        const t2 = t * t\n        const t3 = t * t2\n\n        return (\n          (2 * p1 - 2 * p2 + v0 + v1) * t3 +\n          (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 +\n          v0 * t +\n          p1\n        )\n      } else if (typeof p0 === 'object') {\n        if (p0.length !== undefined) {\n          if (p0[0] === STRING_PROP) {\n            let STRING_BUFFER = ''\n            for (let i = 1, len = p0.length; i < len; i++) {\n              let currentValue =\n                typeof p0[i] === 'number'\n                  ? Interpolation.Utils.CatmullRom(\n                    p0[i],\n                    p1[i],\n                    p2[i],\n                    p3[i],\n                    t\n                  )\n                  : p3[i]\n              if (isRGBColor(p0, i) || isRGBColor(p0, i, RGBA)) {\n                currentValue |= 0\n              }\n              STRING_BUFFER += currentValue\n            }\n            return STRING_BUFFER\n          }\n          for (let p = 0, len = v.length; p < len; p++) {\n            v[p] = Interpolation.Utils.CatmullRom(\n              p0[p],\n              p1[p],\n              p2[p],\n              p3[p],\n              t,\n              v[p]\n            )\n          }\n        } else {\n          for (const p in v) {\n            v[p] = Interpolation.Utils.CatmullRom(\n              p0[p],\n              p1[p],\n              p2[p],\n              p3[p],\n              t,\n              v[p]\n            )\n          }\n        }\n        return v\n      }\n    }\n  }\n}\n\nexport default Interpolation\n","import {\n  remove\n} from './core'\n\nexport const Store = {}\nexport default function (node, object, tween) {\n  if (!node || !node.nodeType) {\n    return object\n  }\n  const ID = node.queueID || 'q_' + Date.now()\n  if (!node.queueID) {\n    node.queueID = ID\n  }\n  const storeID = Store[ID]\n  if (storeID) {\n    if (\n      storeID.object === object &&\n      node === storeID.tween.node &&\n      tween._startTime === storeID.tween._startTime\n    ) {\n      remove(storeID.tween)\n    } else if (typeof object === 'object' && !!object && !!storeID.object) {\n      for (let prop in object) {\n        if (prop in storeID.object) {\n          if (tween._startTime === storeID.tween._startTime) {\n            delete storeID.object[prop]\n          } else {\n            storeID.propNormaliseRequired = true\n          }\n        }\n      }\n      storeID.object = { ...storeID.object,\n        ...object\n      }\n    }\n    return storeID.object\n  }\n\n  if (typeof object === 'object' && !!object) {\n    Store[ID] = {\n      tween,\n      object,\n      propNormaliseRequired: false\n    }\n    return Store[ID].object\n  }\n\n  return object\n}\n","export default function (selector, collection) {\n  if (collection) {\n    return !selector\n      ? null\n      : selector === window || selector === document\n        ? [selector]\n        : typeof selector === 'string'\n          ? !!document.querySelectorAll && document.querySelectorAll(selector)\n          : Array.isArray(selector)\n            ? selector\n            : selector.nodeType ? [selector] : []\n  }\n  return !selector\n    ? null\n    : selector === window || selector === document\n      ? selector\n      : typeof selector === 'string'\n        ? !!document.querySelector && document.querySelector(selector)\n        : Array.isArray(selector)\n          ? selector[0]\n          : selector.nodeType ? selector : null\n}\n","import {\n  add,\n  now,\n  Plugins,\n  remove\n} from './core'\nimport Easing from './Easing'\nimport Interpolation from './Interpolation'\nimport NodeCache, {\n  Store\n} from './NodeCache'\nimport Selector from './selector'\nimport {\n  decompose,\n  decomposeString,\n  recompose,\n  deepCopy,\n  SET_NESTED,\n  EVENT_CALLBACK,\n  CHAINED_TWEENS,\n  EVENT_UPDATE,\n  EVENT_COMPLETE,\n  EVENT_START,\n  EVENT_REPEAT,\n  EVENT_REVERSE,\n  EVENT_PAUSE,\n  EVENT_PLAY,\n  EVENT_RESTART,\n  EVENT_STOP,\n  EVENT_SEEK,\n  FRAME_MS,\n  TOO_LONG_FRAME_MS,\n  DECIMAL\n} from './constants'\n\nlet _id = 0 // Unique ID\nconst defaultEasing = Easing.Linear.None\n\n/**\n * Tween main constructor\n * @constructor\n * @class\n * @namespace TWEEN.Tween\n * @param {Object|Element} node Node Element or Tween initial object\n * @param {Object=} object If Node Element is using, second argument is used for Tween initial object\n * @example let tween = new Tween(myNode, {width:'100px'}).to({width:'300px'}, 2000).start()\n */\nclass Tween {\n  /**\n   * Easier way to call the Tween\n   * @param {Element} node DOM Element\n   * @param {object} object - Initial value\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example Tween.fromTo(node, {x:0}, {x:200}, {duration:1000})\n   * @memberof TWEEN.Tween\n   * @static\n   */\n  static fromTo (node, object, to, params = {}) {\n    params.quickRender = params.quickRender ? params.quickRender : !to\n    const tween = new Tween(node, object).to(to, params)\n    if (params.quickRender) {\n      tween.render().update(tween._startTime)\n      tween._rendered = false\n      tween._onStartCallbackFired = false\n    }\n    return tween\n  }\n  /**\n   * Easier way calling constructor only applies the `to` value, useful for CSS Animation\n   * @param {Element} node DOM Element\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example Tween.to(node, {x:200}, {duration:1000})\n   * @memberof TWEEN.Tween\n   * @static\n   */\n  static to (node, to, params) {\n    return Tween.fromTo(node, null, to, params)\n  }\n  /**\n   * Easier way calling constructor only applies the `from` value, useful for CSS Animation\n   * @param {Element} node DOM Element\n   * @param {object} from - Initial value\n   * @param {object} params - Options of tweens\n   * @example Tween.from(node, {x:200}, {duration:1000})\n   * @memberof TWEEN.Tween\n   * @static\n   */\n  static from (node, from, params) {\n    return Tween.fromTo(node, from, null, params)\n  }\n  constructor (node, object) {\n    this.id = _id++\n    if (!!node && typeof node === 'object' && !object && !node.nodeType) {\n      object = this.object = node\n      node = null\n    } else if (!!node &&\n      (node.nodeType || node.length || typeof node === 'string')\n    ) {\n      node = this.node = Selector(node)\n      object = this.object = NodeCache(node, object, this)\n    }\n    this._valuesEnd = null\n    this._valuesStart = {}\n\n    this._duration = 1000\n    this._easingFunction = defaultEasing\n    this._easingReverse = defaultEasing\n    this._interpolationFunction = Interpolation.Linear\n\n    this._startTime = 0\n    this._initTime = 0\n    this._delayTime = 0\n    this._repeat = 0\n    this._r = 0\n    this._isPlaying = false\n    this._yoyo = false\n    this._reversed = false\n\n    this._onStartCallbackFired = false\n    this._pausedTime = null\n    this._isFinite = true\n    this._maxListener = 15\n    this._chainedTweensCount = 0\n    this._prevTime = null\n\n    return this\n  }\n\n  /**\n   * Sets max `event` listener's count to Events system\n   * @param {number} count - Event listener's count\n   * @memberof TWEEN.Tween\n   */\n  setMaxListener (count = 15) {\n    this._maxListener = count\n    return this\n  }\n\n  /**\n   * Adds `event` to Events system\n   * @param {string} event - Event listener name\n   * @param {Function} callback - Event listener callback\n   * @memberof TWEEN.Tween\n   */\n  on (event, callback) {\n    const {\n      _maxListener\n    } = this\n    const callbackName = event + EVENT_CALLBACK\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (!this[callbackId]) {\n        this[callbackId] = callback\n        break\n      }\n    }\n    return this\n  }\n\n  /**\n   * Adds `event` to Events system.\n   * Removes itself after fired once\n   * @param {string} event - Event listener name\n   * @param {Function} callback - Event listener callback\n   * @memberof TWEEN.Tween\n   */\n  once (event, callback) {\n    const {\n      _maxListener\n    } = this\n    const callbackName = event + EVENT_CALLBACK\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (!this[callbackId]) {\n        this[callbackId] = (...args) => {\n          callback.apply(this, args)\n          this[callbackId] = null\n        }\n        break\n      }\n    }\n    return this\n  }\n\n  /**\n   * Removes `event` from Events system\n   * @param {string} event - Event listener name\n   * @param {Function} callback - Event listener callback\n   * @memberof TWEEN.Tween\n   */\n  off (event, callback) {\n    const {\n      _maxListener\n    } = this\n    const callbackName = event + EVENT_CALLBACK\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (this[callbackId] === callback) {\n        this[callbackId] = null\n      }\n    }\n    return this\n  }\n\n  /**\n   * Emits/Fired/Trigger `event` from Events system listeners\n   * @param {string} event - Event listener name\n   * @memberof TWEEN.Tween\n   */\n  emit (event, arg1, arg2, arg3, arg4) {\n    const {\n      _maxListener\n    } = this\n    const callbackName = event + EVENT_CALLBACK\n\n    if (!this[callbackName + 0]) {\n      return this\n    }\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (this[callbackId]) {\n        this[callbackId](arg1, arg2, arg3, arg4)\n      }\n    }\n    return this\n  }\n\n  /**\n   * @return {boolean} State of playing of tween\n   * @example tween.isPlaying() // returns `true` if tween in progress\n   * @memberof TWEEN.Tween\n   */\n  isPlaying () {\n    return this._isPlaying\n  }\n\n  /**\n   * @return {boolean} State of started of tween\n   * @example tween.isStarted() // returns `true` if tween in started\n   * @memberof TWEEN.Tween\n   */\n  isStarted () {\n    return this._onStartCallbackFired\n  }\n\n  /**\n   * Reverses the tween state/direction\n   * @example tween.reverse()\n   * @param {boolean=} state Set state of current reverse\n   * @memberof TWEEN.Tween\n   */\n  reverse (state) {\n    const {\n      _reversed\n    } = this\n\n    this._reversed = state !== undefined ? state : !_reversed\n\n    return this\n  }\n\n  /**\n   * @return {boolean} State of reversed\n   * @example tween.reversed() // returns `true` if tween in reversed state\n   * @memberof TWEEN.Tween\n   */\n  reversed () {\n    return this._reversed\n  }\n\n  /**\n   * Pauses tween\n   * @example tween.pause()\n   * @memberof TWEEN.Tween\n   */\n  pause () {\n    if (!this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = false\n\n    remove(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PAUSE, this.object)\n  }\n\n  /**\n   * Play/Resume the tween\n   * @example tween.play()\n   * @memberof TWEEN.Tween\n   */\n  play () {\n    if (this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = true\n\n    this._startTime += now() - this._pausedTime\n    this._initTime = this._startTime\n    add(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PLAY, this.object)\n  }\n\n  /**\n   * Restarts tween from initial value\n   * @param {boolean=} noDelay If this param is set to `true`, restarts tween without `delay`\n   * @example tween.restart()\n   * @memberof TWEEN.Tween\n   */\n  restart (noDelay) {\n    this._repeat = this._r\n    this.reassignValues()\n\n    add(this)\n\n    return this.emit(EVENT_RESTART, this.object)\n  }\n\n  /**\n   * Seek tween value by `time`. Note: Not works as excepted. PR are welcome\n   * @param {Time} time Tween update time\n   * @param {boolean=} keepPlaying When this param is set to `false`, tween pausing after seek\n   * @example tween.seek(500)\n   * @memberof TWEEN.Tween\n   * @deprecated Not works as excepted, so we deprecated this method\n   */\n  seek (time, keepPlaying) {\n    const {\n      _duration,\n      _initTime,\n      _startTime,\n      _reversed\n    } = this\n\n    let updateTime = _initTime + time\n    this._isPlaying = true\n\n    if (updateTime < _startTime && _startTime >= _initTime) {\n      this._startTime -= _duration\n      this._reversed = !_reversed\n    }\n\n    this.update(time, false)\n\n    this.emit(EVENT_SEEK, time, this.object)\n\n    return keepPlaying ? this : this.pause()\n  }\n\n  /**\n   * Sets tween duration\n   * @param {number} amount Duration is milliseconds\n   * @example tween.duration(2000)\n   * @memberof TWEEN.Tween\n   */\n  duration (amount) {\n    this._duration =\n      typeof amount === 'function' ? amount(this._duration) : amount\n\n    return this\n  }\n\n  /**\n   * Sets target value and duration\n   * @param {object} properties Target value (to value)\n   * @param {number|Object=} [duration=1000] Duration of tween\n   * @example let tween = new Tween({x:0}).to({x:100}, 2000)\n   * @memberof TWEEN.Tween\n   */\n  to (properties, duration = 1000, maybeUsed) {\n    this._valuesEnd = properties\n\n    if (typeof duration === 'number' || typeof duration === 'function') {\n      this._duration =\n        typeof duration === 'function' ? duration(this._duration) : duration\n    } else if (typeof duration === 'object') {\n      for (const prop in duration) {\n        if (typeof this[prop] === 'function') {\n          const [\n            arg1 = null,\n            arg2 = null,\n            arg3 = null,\n            arg4 = null\n          ] = Array.isArray(duration[prop]) ? duration[prop] : [duration[prop]]\n          this[prop](arg1, arg2, arg3, arg4)\n        }\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * Renders and computes value at first render\n   * @private\n   * @memberof TWEEN.Tween\n   */\n  render () {\n    if (this._rendered) {\n      return this\n    }\n    let {\n      _valuesStart,\n      _valuesEnd,\n      object,\n      node,\n      InitialValues\n    } = this\n\n    SET_NESTED(object)\n    SET_NESTED(_valuesEnd)\n\n    if (node && node.queueID && Store[node.queueID]) {\n      const prevTweenByNode = Store[node.queueID]\n      if (\n        prevTweenByNode.propNormaliseRequired &&\n        prevTweenByNode.tween !== this\n      ) {\n        for (const property in _valuesEnd) {\n          if (prevTweenByNode.tween._valuesEnd[property] !== undefined) {\n            // delete prevTweenByNode.tween._valuesEnd[property];\n          }\n        }\n        prevTweenByNode.normalisedProp = true\n        prevTweenByNode.propNormaliseRequired = false\n      }\n    }\n\n    if (node && InitialValues) {\n      if (!object || Object.keys(object).length === 0) {\n        object = this.object = NodeCache(\n          node,\n          InitialValues(node, _valuesEnd),\n          this\n        )\n      } else if (!_valuesEnd || Object.keys(_valuesEnd).length === 0) {\n        _valuesEnd = this._valuesEnd = InitialValues(node, object)\n      }\n    }\n    for (const property in _valuesEnd) {\n      let start = object && object[property] && deepCopy(object[property])\n      let end = _valuesEnd[property]\n      if (Plugins[property] && Plugins[property].init) {\n        Plugins[property].init.call(this, start, end, property, object)\n        if (start === undefined && _valuesStart[property]) {\n          start = _valuesStart[property]\n        }\n        if (Plugins[property].skipProcess) {\n          continue\n        }\n      }\n      if (\n        (typeof start === 'number' && isNaN(start)) ||\n        start === null ||\n        end === null ||\n        start === false ||\n        end === false ||\n        start === undefined ||\n        end === undefined ||\n        start === end\n      ) {\n        continue\n      }\n      if (Array.isArray(end) && !Array.isArray(start)) {\n        end.unshift(start)\n        for (let i = 0, len = end.length; i < len; i++) {\n          if (typeof end[i] === 'string') {\n            let arrayOfStrings = decomposeString(end[i])\n            let stringObject = {\n              length: arrayOfStrings.length,\n              isString: true\n            }\n            for (let ii = 0, len2 = arrayOfStrings.length; ii < len2; ii++) {\n              stringObject[ii] = arrayOfStrings[ii]\n            }\n            end[i] = stringObject\n          }\n        }\n      }\n      _valuesStart[property] = start\n      if (typeof start === 'number' && typeof end === 'string' && end[1] === '=') {\n        continue\n      }\n      decompose(property, object, _valuesStart, _valuesEnd)\n    }\n\n    if (Tween.Renderer && this.node && Tween.Renderer.init) {\n      Tween.Renderer.init.call(this, object, _valuesStart, _valuesEnd)\n      this.__render = true\n    }\n\n    return this\n  }\n\n  /**\n   * Start the tweening\n   * @param {number|string} time setting manual time instead of Current browser timestamp or like `+1000` relative to current timestamp\n   * @example tween.start()\n   * @memberof TWEEN.Tween\n   */\n  start (time) {\n    this._startTime =\n      time !== undefined\n        ? typeof time === 'string' ? now() + parseFloat(time) : time\n        : now()\n    this._startTime += this._delayTime\n    this._initTime = this._prevTime = this._startTime\n\n    this._onStartCallbackFired = false\n    this._rendered = false\n    this._isPlaying = true\n\n    add(this)\n\n    return this\n  }\n\n  /**\n   * Stops the tween\n   * @example tween.stop()\n   * @memberof TWEEN.Tween\n   */\n  stop () {\n    let {\n      _isPlaying,\n      _isFinite,\n      object,\n      _startTime,\n      _duration,\n      _r,\n      _yoyo,\n      _reversed\n    } = this\n\n    if (!_isPlaying) {\n      return this\n    }\n\n    let atStart = _isFinite ? (_r + 1) % 2 === 1 : !_reversed\n\n    this._reversed = false\n\n    if (_yoyo && atStart) {\n      this.update(_startTime)\n    } else {\n      this.update(_startTime + _duration)\n    }\n    remove(this)\n\n    return this.emit(EVENT_STOP, object)\n  }\n\n  /**\n   * Set delay of tween\n   * @param {number} amount Sets tween delay / wait duration\n   * @example tween.delay(500)\n   * @memberof TWEEN.Tween\n   */\n  delay (amount) {\n    this._delayTime =\n      typeof amount === 'function' ? amount(this._delayTime) : amount\n\n    return this\n  }\n\n  /**\n   * Chained tweens\n   * @param {any} arguments Arguments list\n   * @example tween.chainedTweens(tween1, tween2)\n   * @memberof TWEEN.Tween\n   */\n  chainedTweens () {\n    this._chainedTweensCount = arguments.length\n    if (!this._chainedTweensCount) {\n      return this\n    }\n    for (let i = 0, len = this._chainedTweensCount; i < len; i++) {\n      this[CHAINED_TWEENS + i] = arguments[i]\n    }\n\n    return this\n  }\n\n  /**\n   * Sets how times tween is repeating\n   * @param {amount} amount the times of repeat\n   * @example tween.repeat(5)\n   * @memberof TWEEN.Tween\n   */\n  repeat (amount) {\n    this._repeat = !this._duration\n      ? 0\n      : typeof amount === 'function' ? amount(this._repeat) : amount\n    this._r = this._repeat\n    this._isFinite = isFinite(amount)\n\n    return this\n  }\n\n  /**\n   * Set delay of each repeat alternate of tween\n   * @param {number} amount Sets tween repeat alternate delay / repeat alternate wait duration\n   * @example tween.reverseDelay(500)\n   * @memberof TWEEN.Tween\n   */\n  reverseDelay (amount) {\n    this._reverseDelayTime =\n      typeof amount === 'function' ? amount(this._reverseDelayTime) : amount\n\n    return this\n  }\n\n  /**\n   * Set `yoyo` state (enables reverse in repeat)\n   * @param {boolean} state Enables alternate direction for repeat\n   * @param {Function=} _easingReverse Easing function in reverse direction\n   * @example tween.yoyo(true)\n   * @memberof TWEEN.Tween\n   */\n  yoyo (state, _easingReverse) {\n    this._yoyo =\n      typeof state === 'function'\n        ? state(this._yoyo)\n        : state === null ? this._yoyo : state\n    if (!state) {\n      this._reversed = false\n    }\n    this._easingReverse = _easingReverse || null\n\n    return this\n  }\n\n  /**\n   * Set easing\n   * @param {Function} _easingFunction Easing function, applies in non-reverse direction if Tween#yoyo second argument is applied\n   * @example tween.easing(Easing.Elastic.InOut)\n   * @memberof TWEEN.Tween\n   */\n  easing (_easingFunction) {\n    this._easingFunction = _easingFunction\n\n    return this\n  }\n\n  /**\n   * Set interpolation\n   * @param {Function} _interpolationFunction Interpolation function\n   * @example tween.interpolation(Interpolation.Bezier)\n   * @memberof TWEEN.Tween\n   */\n  interpolation (_interpolationFunction) {\n    if (typeof _interpolationFunction === 'function') {\n      this._interpolationFunction = _interpolationFunction\n    }\n\n    return this\n  }\n\n  /**\n   * Reassigns value for rare-case like Tween#restart or for Timeline\n   * @private\n   * @memberof TWEEN.Tween\n   */\n  reassignValues (time) {\n    const {\n      _valuesStart,\n      object,\n      _delayTime\n    } = this\n\n    this._isPlaying = true\n    this._startTime = time !== undefined ? time : now()\n    this._startTime += _delayTime\n    this._reversed = false\n    add(this)\n\n    for (const property in _valuesStart) {\n      const start = _valuesStart[property]\n\n      object[property] = start\n    }\n\n    return this\n  }\n\n  /**\n   * Updates initial object to target value by given `time`\n   * @param {Time} time Current time\n   * @param {boolean=} preserve Prevents from removing tween from store\n   * @param {boolean=} forceTime Forces to be frame rendered, even mismatching time\n   * @example tween.update(100)\n   * @memberof TWEEN.Tween\n   */\n  update (time, preserve, forceTime) {\n    let {\n      _onStartCallbackFired,\n      _easingFunction,\n      _interpolationFunction,\n      _easingReverse,\n      _repeat,\n      _delayTime,\n      _reverseDelayTime,\n      _yoyo,\n      _reversed,\n      _startTime,\n      _prevTime,\n      _duration,\n      _valuesStart,\n      _valuesEnd,\n      object,\n      _isFinite,\n      _isPlaying,\n      __render,\n      _chainedTweensCount\n    } = this\n\n    let elapsed\n    let currentEasing\n    let property\n    let propCount = 0\n\n    if (!_duration) {\n      elapsed = 1\n      _repeat = 0\n    } else {\n      time = time !== undefined ? time : now()\n\n      let delta = time - _prevTime\n      this._prevTime = time\n      if (delta > TOO_LONG_FRAME_MS) {\n        time -= delta - FRAME_MS\n      }\n\n      if (!_isPlaying || (time < _startTime && !forceTime)) {\n        return true\n      }\n\n      elapsed = (time - _startTime) / _duration\n      elapsed = elapsed > 1 ? 1 : elapsed\n      elapsed = _reversed ? 1 - elapsed : elapsed\n    }\n\n    if (!_onStartCallbackFired) {\n      if (!this._rendered) {\n        this.render()\n        this._rendered = true\n      }\n\n      this.emit(EVENT_START, object)\n\n      this._onStartCallbackFired = true\n    }\n\n    currentEasing = _reversed\n      ? _easingReverse || _easingFunction\n      : _easingFunction\n\n    if (!object) {\n      return true\n    }\n\n    for (property in _valuesEnd) {\n      const start = _valuesStart[property]\n      if (\n        (start === undefined || start === null) &&\n        !(Plugins[property] && Plugins[property].update)\n      ) {\n        continue\n      }\n      const end = _valuesEnd[property]\n      const value = currentEasing[property]\n        ? currentEasing[property](elapsed)\n        : typeof currentEasing === 'function'\n          ? currentEasing(elapsed)\n          : defaultEasing(elapsed)\n      const _interpolationFunctionCall = _interpolationFunction[property]\n        ? _interpolationFunction[property]\n        : typeof _interpolationFunction === 'function'\n          ? _interpolationFunction\n          : Interpolation.Linear\n\n      if (typeof end === 'number') {\n        object[property] =\n          (((start + (end - start) * value) * DECIMAL) | 0) / DECIMAL\n      } else if (Array.isArray(end) && !Array.isArray(start)) {\n        object[property] = _interpolationFunctionCall(\n          end,\n          value,\n          object[property]\n        )\n      } else if (end && end.update) {\n        end.update(value)\n      } else if (typeof end === 'function') {\n        object[property] = end(value)\n      } else if (typeof end === 'string' && typeof start === 'number') {\n        object[property] = start + parseFloat(end[0] + end.substr(2)) * value\n      } else {\n        recompose(property, object, _valuesStart, _valuesEnd, value, elapsed)\n      }\n      if (Plugins[property] && Plugins[property].update) {\n        Plugins[property].update.call(\n          this,\n          object[property],\n          start,\n          end,\n          value,\n          elapsed,\n          property\n        )\n      }\n      propCount++\n    }\n\n    if (!propCount) {\n      remove(this)\n      return false\n    }\n\n    if (__render && Tween.Renderer && Tween.Renderer.update) {\n      Tween.Renderer.update.call(this, object, elapsed)\n    }\n\n    this.emit(EVENT_UPDATE, object, elapsed, time)\n\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat > 0 && _duration > 0) {\n        if (_isFinite) {\n          this._repeat--\n        }\n\n        if (_yoyo) {\n          this._reversed = !_reversed\n        } else {\n          for (property in _valuesEnd) {\n            let end = _valuesEnd[property]\n            if (typeof end === 'string' && typeof _valuesStart[property] === 'number') {\n              _valuesStart[property] += parseFloat(end[0] + end.substr(2))\n            }\n          }\n        }\n\n        this.emit(_yoyo && !_reversed ? EVENT_REVERSE : EVENT_REPEAT, object)\n\n        if (_reversed && _reverseDelayTime) {\n          this._startTime = time - _reverseDelayTime\n        } else {\n          this._startTime = time + _delayTime\n        }\n\n        return true\n      } else {\n        if (!preserve) {\n          this._isPlaying = false\n          remove(this)\n          _id--\n        }\n        this.emit(EVENT_COMPLETE, object)\n        this._repeat = this._r\n\n        if (_chainedTweensCount) {\n          for (let i = 0; i < _chainedTweensCount; i++) {\n            this[CHAINED_TWEENS + i].start(time + _duration)\n          }\n        }\n\n        return false\n      }\n    }\n\n    return true\n  }\n}\n\nexport default Tween\n","import { decompose, recompose, decomposeString } from './constants'\n\n/**\n * Tween helper for plugins\n * @namespace TWEEN.Interpolator\n * @memberof TWEEN\n * @param {any} a - Initial position\n * @param {any} b - End position\n * @return {Function} Returns function that accepts number between `0-1`\n */\nconst Interpolator = (a, b) => {\n  let isArray = Array.isArray(a)\n  let origin = typeof a === 'string' ? a : isArray ? a.slice() : {...a}\n  if (isArray) {\n    for (let i = 0, len = a.length; i < len; i++) {\n      decompose(i, origin, a, b)\n    }\n  } else if (typeof a === 'object') {\n    for (let i in a) {\n      decompose(i, origin, a, b)\n    }\n  } else if (typeof a === 'string') {\n    a = decomposeString(a)\n    b = decomposeString(b)\n\n    let i = 1\n    while (i < a.length) {\n      if (a[i] === b[i] && typeof a[i - 1] === 'string') {\n        a.splice(i - 1, 2, a[i - 1] + a[i])\n        b.splice(i - 1, 2, b[i - 1] + b[i])\n      } else {\n        i++\n      }\n    }\n\n    let c = {isString: true, length: a.length}\n    let d = {isString: true, length: b.length}\n\n    while (i < c.length) {\n      c[i] = a[i]\n      d[i] = b[i]\n      i++\n    }\n  }\n  return function (t) {\n    if (isArray) {\n      for (let i = 0, len = a.length; i < len; i++) {\n        recompose(i, origin, a, b, t)\n      }\n    } else if (typeof origin === 'object') {\n      for (let i in a) {\n        recompose(i, origin, a, b, t)\n      }\n    } else if (typeof origin === 'string') {\n      origin = recompose(0, 0, a, b, t, t, true)\n    }\n    return origin\n  }\n}\n\nexport default Interpolator\n"],"names":["root","window","global","this","requestAnimationFrame","fn","setTimeout","cancelAnimationFrame","id","clearTimeout","now","process","hrtime","undefined","versions","electron","time","performance","bind","offset","timing","navigationStart","Date","_tweens","isStarted","_autoPlay","_tick","_ticker","_stopTicker","emptyFrame","powerModeThrottle","add","tween","i","indexOf","splice","push","update","onTick","getAll","autoPlay","state","removeAll","length","get","has","remove","preserve","isRunning","Plugins","Easing","k","Math","cos","PI","sin","pow","sqrt","s","Bounce","Out","In","steps","FRAME_MS","TOO_LONG_FRAME_MS","CHAINED_TWEENS","EVENT_CALLBACK","EVENT_UPDATE","EVENT_COMPLETE","EVENT_START","EVENT_REPEAT","EVENT_REVERSE","EVENT_PAUSE","EVENT_PLAY","EVENT_RESTART","EVENT_STOP","EVENT_SEEK","STRING_PROP","NUM_REGEX","deepCopy","source","nodeType","Array","isArray","concat","target","prop","isNaNForST","isNaN","v","hexColor","hex2rgb","all","hex","r","g","b","color","parseInt","decomposeString","fromValue","replace","match","map","decompose","obj","from","to","stringBuffer","toValue","fromValue1","toValue1","shift","fromValue2","toValue2","prop2","DECIMAL","RGB","RGBA","isRGBColor","recompose","t","originalT","isString","STRING_BUFFER","len","isRelative","currentValue","parseFloat","substr","propRegExp","replaceBrace","propExtract","property","value","props","split","propsLastIndex","lastArr","lastObj","reduce","nested","index","nextProp","nextIsArray","SET_NESTED","nested2","nested3","prop3","Interpolation","m","f","floor","Utils","Linear","Reset","n","pw","Bernstein","isBArray","p","idx","round","vCurr","ks","CatmullRom","p0","p1","fc","Factorial","a","p2","p3","v0","v1","t2","t3","Store","node","object","ID","queueID","storeID","_startTime","propNormaliseRequired","selector","collection","document","querySelectorAll","querySelector","_id","defaultEasing","None","Tween","params","quickRender","render","_rendered","_onStartCallbackFired","fromTo","Selector","NodeCache","_valuesEnd","_valuesStart","_duration","_easingFunction","_easingReverse","_interpolationFunction","_initTime","_delayTime","_repeat","_r","_isPlaying","_yoyo","_reversed","_pausedTime","_isFinite","_maxListener","_chainedTweensCount","_prevTime","count","event","callback","callbackName","callbackId","arg1","arg2","arg3","arg4","emit","noDelay","reassignValues","keepPlaying","updateTime","pause","amount","properties","duration","InitialValues","prevTweenByNode","normalisedProp","Object","keys","start","end","init","call","skipProcess","unshift","arrayOfStrings","stringObject","ii","len2","Renderer","__render","atStart","arguments","isFinite","_reverseDelayTime","forceTime","elapsed","currentEasing","propCount","delta","_interpolationFunctionCall","Interpolator","origin","slice","c"],"mappings":"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"}